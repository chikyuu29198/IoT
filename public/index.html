<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Visualize data</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/visualizeIcon.jpg" rel="visualizeIcon">
  <link href="img/visualizeIcon.jpg" rel="visualizeIcon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,500,600,700,700i|Montserrat:300,400,500,600,700" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">

  <!-- =======================================================
    Theme Name: Rapid
    Theme URL: https://bootstrapmade.com/rapid-multipurpose-bootstrap-business-template/
    Author: BootstrapMade.com
    License: https://bootstrapmade.com/license/
  ======================================================= -->
</head>

<body>
  <!--==========================
  Header
  ============================-->
  <header id="header">

    <div id="topbar">
      <div class="container">
        <div class="social-links">
          <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
          <a href="#" class="facebook"><i class="fa fa-facebook"></i></a>
          <a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a>
          <a href="#" class="instagram"><i class="fa fa-instagram"></i></a>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="logo float-left">
        <!-- Uncomment below if you prefer to use an image logo -->
        <h1 class="text-light"><a href="#intro" class="scrollto"><span>WhoAmI</span></a></h1>
        <!-- <a href="#header" class="scrollto"><img src="img/logo.png" alt="" class="img-fluid"></a> -->
      </div>

      <nav class="main-nav float-right d-none d-lg-block">
        <ul>
          <li class="active"><a href="#intro">Home</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#team">Our Team</a></li>
        </ul>
      </nav><!-- .main-nav -->
      
    </div>
  </header><!-- #header -->

  <!--==========================
    Intro Section
  ============================-->
  <section id="intro" class="clearfix">
    <div class="container d-flex h-100">
      <div class="row justify-content-center align-self-center">
        <div class="col-md-6 intro-info order-md-first order-last">
          <h2>Visualize Data<br>for Your <span>Devices!</span></h2>
          <div>
            <a href="#about" class="btn-get-started scrollto">Get Started</a>
          </div>
        </div>
  
        <div class="col-md-6 intro-img order-md-last order-first">
          <img src="img/intro-img.svg" alt="" class="img-fluid">
        </div>
      </div>

    </div>
  </section><!-- #intro -->

  <main id="main">

    <!--==========================
      Services Section
    ============================-->
    <section id="services" class="section-bg">
      <canvas id="chart1"></canvas>
      <div>
      </br>  
      </br>
      </br>
      </div>
      <canvas id="chart2"></canvas>
      <div>
      </br>  
      </br>
      </br>
      </div>
      <canvas id="chart3"></canvas>
    </section><!-- #services -->

    <!--==========================
      Clients Section
    ============================-->
    <section id="team">
      <div class="container">

        <header class="section-header">
          <h3>Our Team</h3>
        </header>

        <div class="row justify-content-center">
          <div class="col-lg-8">

            <div class="owl-carousel testimonials-carousel wow fadeInUp">
    
              <div class="testimonial-item">
                <img src="img/thach-nt.jpg" class="testimonial-img" alt="">
                <h3>Thach Nguyen Hoang</h3>
                <h4>Team Leader</h4>
                <p>
                  Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper.
                </p>
              </div>
    
              <div class="testimonial-item">
                <img src="img/chi-vn.jpg" class="testimonial-img" alt="">
                <h3>Chi Vu Ngoc</h3>
                <h4>Team member</h4>
                <p>
                  Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa.
                </p>
              </div>
    
              <div class="testimonial-item">
                <img src="img/hoa-ltt.jpg" class="testimonial-img" alt="">
                <h3>Hoa Le Thi Thanh</h3>
                <h4>Team member</h4>
                <p>
                  Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim tempor labore quem eram duis noster aute amet eram fore quis sint minim.
                </p>
              </div>

            </div>

          </div>
        </div>


      </div>
    </section><!-- #testimonials -->

  </main>

  <!--==========================
    Footer
  ============================-->
  <footer id="footer" class="section-bg">
    <div class="container">
      <div class="copyright">
        &copy; 2019-VNU University of Engineering and Technology
      </div>
      <div class="credits">
        <!--
          All the links in the footer should remain intact.
          You can delete the links only if you purchased the pro version.
          Licensing information: https://bootstrapmade.com/license/
          Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=Rapid
        -->
        Address: E3, 144 Xuanthuy, Caugiay, Hannoi
      </div>
    </div>
  </footer><!-- #footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
  <!-- Uncomment below i you want to use a preloader -->
  <!-- <div id="preloader"></div> -->

  <!-- JavaScript Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/jquery/jquery-migrate.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/mobile-nav/mobile-nav.js"></script>
  <script src="lib/wow/wow.min.js"></script>
  <script src="lib/waypoints/waypoints.min.js"></script>
  <script src="lib/counterup/counterup.min.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="lib/isotope/isotope.pkgd.min.js"></script>
  <script src="lib/lightbox/js/lightbox.min.js"></script>
  <!-- Contact Form JavaScript File -->
  <script src="contactform/contactform.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>
  <script defer src="/__/firebase/7.5.0/firebase-app.js"></script>
  <script defer src="/__/firebase/7.5.0/firebase-database.js"></script>
  <script defer src="/__/firebase/init.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      firebase.database().ref('/').limitToLast(50).on('value', snapshot => {
        let data = snapshot.val();
        console.log(typeof data);
        console.log(data);
        
        let arr1 = [];
        let arr2 = [];
        let time = [];
        let humidity = [];
        let pressure = [];
        Object.keys(data).forEach((key) => {
          arr1.push(data[key].bmp.temp);
          arr2.push(data[key].dht.temp);
          time.push(data[key].time);
          humidity.push(data[key].dht.hum);
          pressure.push(data[key].bmp.press);
        });
        console.log(arr1);
        console.log(arr2);
        console.log(time);


    let chartConfig2 = {
          type: 'line',
          data: {
            labels: time,
            datasets: [
              {
              label: 'DHT22',
              fill: false,
              backgroundColor: 'blue',
              borderColor: 'blue',
              data: humidity,
            }]
          },
          options: {
            responsive: true,
            title: {
              display: true,
              text: 'Humidity Line Chart'
            },
            tooltips: {
              mode: 'index',
              intersect: false,
            },
            hover: {
              mode: 'nearest',
              intersect: true
            },
            scales: {
              xAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: 'Time'
                }
              }],
              yAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: '%'
                }
              }]
            }
          }
        };


        let chartConfig = {
          type: 'line',
          data: {
            labels: time,
            datasets: [{
              label: 'GY68 - BMP180',
              backgroundColor: 'red',
              borderColor: 'red',
              data: arr1,
              fill: false,
            }, {
              label: 'DHT22',
              fill: false,
              backgroundColor: 'blue',
              borderColor: 'blue',
              data: arr2,
            }]
          },
          options: {
            responsive: true,
            title: {
              display: true,
              text: 'Temperature Line Chart'
            },
            tooltips: {
              mode: 'index',
              intersect: false,
            },
            hover: {
              mode: 'nearest',
              intersect: true
            },
            scales: {
              xAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: 'Time'
                }
              }],
              yAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: '*C'
                }
              }]
            }
          }
        };

        let chartConfig3 = {
          type: 'line',
          data: {
            labels: time,
            datasets: [{
              label: 'GY68 - BMP180',
              backgroundColor: 'red',
              borderColor: 'red',
              data: pressure,
              fill: false,
            }]
          },
          options: {
            responsive: true,
            
            title: {
              display: true,
              text: 'Pressure Line Chart'
            },
            tooltips: {
              mode: 'index',
              intersect: false,
            },
            hover: {
              mode: 'nearest',
              intersect: true
            },
            scales: {
              xAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: 'Time'
                }
              }],
              yAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: 'Pa '
                }
              }]
            }
          }
        };


        let ctx1 = document.getElementById("chart1").getContext('2d');
        ctx1.canvas.attributes;
        // ctx1.canvas.style.height = '600px';
        // ctx1.canvas.style.width = '800px';
        let chart1 = new Chart(ctx1, chartConfig);
        
        let ctx2 = document.getElementById("chart2").getContext('2d');
        let chart2 = new Chart(ctx2, chartConfig2);

        let ctx3 = document.getElementById("chart3").getContext('2d');
        let chart3 = new Chart(ctx3, chartConfig3);

      });
    });
  </script>
  <!-- <script src="js/drawplot.js"></script> -->
</body>
</html>
